{% extends "invenio_workflows_ui/list_base.html" %}

{% block javascript %}
  {{ super() }}
  {% assets "invenio_workflows_ui_js" %}<script src="{{ ASSET_URL }}"></script>{% endassets %}
  {% assets "invenio3_ui_js" %}<script src="{{ ASSET_URL }}"></script>{% endassets %}

  <script type="text/javascript">
    require(["jquery",
             "js/workflows/maintable",
             "js/actions/init"],
            function($,
                     initialize,
                     initialize_actions) {
      var context = {
        load_table_url: "{{ url_for('invenio_workflows_ui.load')|safe }}",
        tags: JSON.parse('{{tags|safe}}'),
        action_url: "{{ url_for('invenio_workflows_ui.resolve_action')|safe }}",
        attach_action_to: "#hp-list",
        page: 1,
        per_page: 10
      };
      initialize(context);
      initialize_actions(context);
      $(document).trigger("reloadHoldingPenTable");
    });
  </script>

{% endblock javascript %}
